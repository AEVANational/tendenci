Theme: Code Snippets for Dynamic Content
========================================

You can pull various pieces of dynamic content into your Tendenci theme template. 
Before adding the snippets below be sure that your template file has the "load" tag for that module at the top of your page. Example: if you were to add an event feed you would want `{% load event_tags %}` pasted at the very top of your html doc. 

Event Feed
------------
Add `{% load event_tags %}` to the very top of your html page

Then add the following code snippet where you want to place your event feed:

.. code-block:: django

	{% list_events as events_list limit=3 %}
	    <ul class="list-unstyled">
	       {% for event in events_list %}
           <li><a href="{{ event.get_absolute_url }}"><strong>{% blocktrans with title=event.title %}{{ title }}{% endblocktrans %}</strong><br>
             <em>{{ event.start_dt|date:"F j, Y - P" }}</em>
          </a></li>
	       {% empty %}
	      {% trans 'Events will be shown here. <a href="/events/add/">Start adding events now!</a>' %}
	       {% endfor %}
	    </ul>
         {% if event_list %}
              <a href="{% url 'event.search' %}">{% trans 'View more events' %} Â»</a>
         {% endif %}


Single Event (featured event)
----------------------------
Add `{% load event_tags %}` to the very top of your html page


Then add the following code snippet where you want to place your event feed:

.. code-block:: django

   {% list_events as events_list limit=1 %}
   <section id="single-event">
     <h3>Featured Event</h3>
     {% if events_list %}
	     {% for event in events_list %}
	     <div class="event-info">
	       {% if event.image %}
	       <img alt="{{ event.title }}" src="{% image_url event.image size=310x154 crop=true %}"/>
	       {% else %}
	       <img src="/themes/twenty-thirteen/media/images/box-4.jpg"/>
	       {% endif %}
	       <p class="event-date">{{ event.start_dt|date:"F d, Y" }}</p>
	       <h4><a href="{{ event.get_absolute_url }}">{{ event.title }}</a></h4>
	       <p>{{ event.description|striptags|truncatewords:"30"|safe }}</p>
	       <p><span><a class="readmore" href="{{ event.get_absolute_url }}">Read More &raquo;</a></span></p>
	     </div>
	     {% endfor %}
     {% else %}
	     <div class="event-info">
	      <img src="{%  if  TEMPLATE_SINGLE_EVENT_DEFAULT_FILE  %}/files/{{  TEMPLATE_SINGLE_EVENT_DEFAULT_FILE }}/310x154/crop/90/{%  else  %}http://schipul.com/files/2369/310x154/crop/90/{% endif %}"/>
	      <h4>Add an Event Today to See Something Here</h4>
	      <p class="event-date">{% now "F d, Y" %}</p>
	      <p>This is example of what your event description will look like.  Where is this text source?.  Start adding Events to start adding your own content today!</p>
	      {% if request.user.is_authenticated %}<p>Display your next upcoming event right on your homepage. Once you <a href="/events/add/">add your first event</a>, this area will be replaced by that information. Don't forget to add an evennt photo!</p>{% endif %}
	      <p><span><a class="readmore" href="#">Read More &raquo;</a></span></p>
	     </div>
     {% endif %}
   </section>


Articles Feed
------------
Add `{% load article_tags %}` to the very top of your html page

Then add the following code snippet where you want to place your articles feed:

.. code-block:: django

    {% list_articles as articles_list limit=3 %}
	<ul class="list-unstyled">
	{% for article in articles_list %}
    <li><a href="{{ article.get_absolute_url }}"><strong>{{ article.headline }}</strong></a><br>
      <em>{{ article.summary|striptags|safe|truncatewords:"6" }}</em></li>
    {% endfor %}
    </ul>


Insert Box
-----------
Add `{% load box_tags %}` to the very top of your html page

Then add the following code snippet where you want to place your box:
(The number 13 should be replaced with the number associated with the box you would like to load)

.. code-block:: django

    {% box 13 %}
    
Inside the boxes interface, adding code allows you to add images, add Font-Awesome Icons, and responsive Bootstrap Layouts.

.. image:: img/boxexample.png

.. Tip:: 
	.. hidden-code-block:: html
		:label + Show Added HTML for Layout
		
		<aside class="bg-dark">
		      <div class="container text-left">
			 <div class="col-md-4 call-to-action">
			    {% box 5 %} 
			 </div>
			 <div class="col-md-8 call-to-action">
			    {% box 4 %} 
			 </div>
			 <!--/col-md-4-->
		      </div>
		</aside>
	
	.. image:: img/insidebox.png 
		
	.. hidden-code-block:: html
		:label: + Show Added HTML Inside Donation Box <> (Left)

		<h3 class="fa fa-money"> &nbsp; Donate </h3>

		<p>Online Donations from supporters like you allow us to achieve our purpose throughout the year. We appreciate your generous donation; please donate today using our simple online donation!</p>

		<p> <a href="/donations/" target="_self"> Donate Now </a> &nbsp;</p>
		<p> &nbsp; </p>
		
	.. hidden-code-block:: css
		:label: + Show Added CSS
		
		/* BG-DARK HOMEPAGE */
		.bg-dark {
		  padding: 20px 10px 50px 20px;
		  background: #2b2b2b;
		}
		#box-5 , 
		#box-4 {
		  border: 1px solid #54b848;
		  border-radius: 8px;
		  margin:20px;
		  background-color: #323232;
		}
		#box-5 h3 {
		  font-size: 45px;
		  text-transform:none;
		  border-bottom: 1px solid #54b848;
		  padding:0 0 10px 30px;
		  width:100%;
		  font-family: FontAwesome, "Assistant", sans-serif;
		  font-weight:600;
		  color: #54b848;
		}
		#box-4 h3 {
		  font-size: 45px;
		  text-transform:none;
		  padding:0 0 0 30px;
		  width:100%;
		  font-family: FontAwesome, "Assistant", sans-serif;
		  font-weight:600;
		  font-size:35px;
		  color: #54b848;  
		}
		#box-5 p>a {
		  background-color: #54b848;
		  color: white;
		  text-align: center;
		  padding: 10px 20px;
		  border-radius: 8px;
		  font-weight:600;
		  text-transform: uppercase;
		  float: right;
		  position: relative;
		  left: -20%;
		  font-size: 20px;
		}
		#box-5 p>a:hover {
		  text-decoration:none;
		  background-color: #3333ff;
		}
		#box-4 p>a {
		  color:#54b848;
		  font-weight:600;
		  font-size:18px;
		}
		#box-5 p {
		  font-weight:200;
		  padding: 10px 30px 0 30px;
		}
		#box-4 p {
		  font-weight:200;
		  padding: 0px 30px 0 30px;
		}
		
		


Directories Carousel
----------
Add `{% load directory_tags %}` to the very top of your html page

Then add the following code snippet where you want to place your directories:

.. code-block:: django

    <div id="directories" class="clearfix">   
     <div class="col eleven columns alpha omega">
       <div id="carousel-container">
         <h3>Platinum Corporate Sponsors</h3>
         <div class="prev" id="port-left"></div>
         <div id="carousel-wrap" class="clearfix">
           <div class="carousel-items">
             <ul>
             {% list_directories as directories_list limit=7 tags="featured" %}
             {% for directory in directories_list %}
               <li>
                 <a href="{{ directory.get_absolute_url }}"><img src="{{ directory.get_logo_url }}" alt="{{ directory.headline }}"/></a><a href="{{ directory.get_absolute_url }}">{{ directory.headline }}</a>
               </li>
             {% endfor %}
             </ul>
           </div><!--/.carousel-items-->
         </div><!--/#carousel-wrap-->
         <div class="next" id="port-right"></div>
       </div><!--/#carousel-container--> 
     </div><!--/.col -->   
  </div><!--/ #directories -->



Directories (use with flexslider)
----------
Add `{% load directory_tags %}` to the very top of your html page

Then add the following code snippet where you want to place your directories:

.. code-block:: django

    {% list_directories as directories_list limit=20 tags="sponsor" %}
	       
	<ul class="slides">
	   {% for directory in directories_list %}
	    <li>
	        <a href="{{ directory.website }}">
	           <!--<img src="{{ directory.get_logo_url }}" alt="{{ directory.headline }}" class="img-responsive">-->
	           <img src="{{ directory.get_logo_url }}" alt="{{ directory.headline }}" class=" img-responsive">
	        </a>
	    </li>
	   {% endfor %}  
	</ul>


Jobs Feed
----------
Add `{% load job_tags %}` to the very top of your html page

Then add the following code snippet where you want to place your jobas:

.. code-block:: django

   {% list_jobs as jobs_list limit=3 %}
     {% for job in jobs_list %}
     <h3><a href="{{ job.get_absolute_url }}">{{ job.title }} &raquo;</a></h3>
   <p>{{ job.location }}</p>
     {% empty %}
   <h4>{% if user.profile.is_superuser %}<a href="/jobs/add/">{Add your first job</a>{% else %}<a href="#">Great New Job</a>{% endif %}</h4>
     <p>Houston: A new job opening is available...</p>
     {% endfor %}

Photos Feed
----------

Add `{% load photo_tags %}` to the very top of your html page

Then add the following code snippet where you want to place your photos:

.. code-block:: django

   {% list_photos as photos_list limit=6 random=True %}
   <ul>
     {% for photo in photos_list %}
     <li><a href="{{ photo.get_absolute_url }}"><img alt="{{ photo.title }}" src="{% photo_image_url photo size=72x66 crop=True %}" /></a></li>
     {% endfor %}
   </ul>

Videos Feed
----------
Add `{% load video_tags %}` to the very top of your html page
Also add {% load video_filters %} to the very top of your html page 

Then add the following code snippet where you want to place your videos:

.. code-block:: django

   <ul id="video-urls">
     {% list_videos as videos_list limit=1 tags="featured"  %}
     {% for video in videos_list %}
     <li>
       <a href="{{ video.get_absolute_url }}">{{ video|video_embed:"294" }}</a>
     </li>
     {% endfor %}
   </ul>

News Feed (with Thumbnail Image)
----------
Add `{% load news_tags %}` to the very top of your html page

Then add the following code snippet where you want to place your news feed:


.. code-block:: django
    
    <!-- begin: news-innerblock -->
	<div class="news-innerblock">
	  {% list_news as news_list limit=3 %}
	  <ul class="list-unstyled">
	     {% for news_item in news_list %}
	     <li>

	       <div class="col-md-4 col-sm-12 col-xs-12 text-left">
	   <!-- news-image -->    
	       {% if news_item.thumbnail %}
	       <a href="{{ news_item.get_absolute_url }}">
		 <div class="news-item-thumbnail">
		 <img class="img" src="{% image_url news_item.thumbnail %}" 
		   alt="{{ news_item.headline|striptags|safe }}"  
		   style="width:100%;height:auto;"/>
		 </div> 
	       </a>
	       {% else %}
	       <a href="{{ news_item.get_absolute_url }}">
		 <div class="news-item-thumbnail-auto">
		 <img src="{{ THEME_URL }}/files/quince.jpg"  
		   style="width:100%;height:auto;"/>
		 </div> 
	       </a>
	       {% endif %}                     
	   <!-- end news-image -->   

	       <a href="{{ news_item.get_absolute_url }}">
		<h3>{% blocktrans with h=news_item.headline %}
		  {{ h }}
		  {% endblocktrans %}
		</h3>
	       </a>
	       <br>
		<p>
		  {% blocktrans with c=news_item.summary|striptags|safe|truncatewords:"30" %}
		  {{ c }}
		  {% endblocktrans %}
	       </p>
	      </div>
	     </li>
	     {% endfor %}
	  </ul>
	</div>
    <!--end: news-innerblock--> 

Here's an example of what this snippet can look like:

.. image:: img/newsfeed.png

.. Tip:: 
	HTML and CSS added to the above image:

	.. hidden-code-block:: html
	    :label: + Show Added HTML

		<link href="https://fonts.googleapis.com/css?family=Assistant:200,300,400,600,700,800" rel="stylesheet">

		<!-- begin: home-newsfeed-content-row -->
		   <section id="services">
		      <div class="container">
			 <div class="row">
			    <!-- begin: news-block -->
			    <div class="col-lg-12 col-md-12 text-left">
			       <h4>News</h4>
			       <!-- ADD NEWSFEED HERE -->
			    </div>
			    <!-- end: news-block -->
			</div>
		      </div>
		    </section>
		<!-- end: home-newsfeed-content-row -->

	.. hidden-code-block:: css
	    :label: + Show Added CSS

		section#services {
		  background-color: #2b2b2b;
		  padding-bottom:150px;
		  padding-top:30px;
		}
		#services .container {
		  width: 90%;
		}
		#services h4 {
		  font-size: 45px;
		  text-transform:none;
		  width:100%;
		  font-family: FontAwesome, "Assistant", sans-serif;
		  font-weight:600;
		  font-size:35px;
		  color:white;
		}
		#services h3, 
		#services a {
		  font-size: 25px;
		  font-weight:400;
		  width:300px;
		  color: #54b848;
		  text-transform: none;
		  margin:-10px 0;
		  padding:0 10px;
		  font-family: 'Assistant', sans-serif;
		}
		#services a:hover,
		#services h3:hover {
		  text-decoration:none;
		  font-color: #3333ff;
		}
		#services p{
		  color:white;
		  font-weight: 200;
		  font-size:16px;
		  padding:0 10px;
		  font-family: 'Assistant', sans-serif;
		}
		#services img:hover {
		  opacity: .7;
		}
		#services img {
		  padding:0 10px;
		}

