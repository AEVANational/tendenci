.. highlight:: django

Custom Templates
================

In the :doc:`../topic-guides/pages` app on your Tendenci site, you can select a custom template to use to display your page. This is useful when constructing pages for special occasions or for creating targeted landing pages for marketing efforts.

The first step is to create the custom template. Custom templates replace the ``default.html`` template when a page is loaded. Copy that template and rename it as ``default-`` then your custom template name, using -'s instead of spaces or underscores. An example would be ``default-blue-background.html`` or ``default-google-landing-page.html``. Your custom template can include template code to dynamically pull in content from other apps, as well as rearranging the elements on the page or removing certain elements. Once your template file is created, add it to the theme directory as you would with other template files.

These templates will appear in the dropdown on the page add and edit screen. Select the template there, and your page will then use it instead of the normal ``default.html`` template.

Best Practices
--------------

If your intentions are to only change the content of the page and not the surrounding elements like the header, sidebar, or nav, there is a best practice for utilizing the ``default.html`` file without having to have multiple places to update when that file changes.

In your ``default.html`` file, locate the following code:
::

    {% block content %}{{ block.super }}{% endblock content %}

You can wrap this code in another block that we can use for our custom page. That code would look like this:

.. code-block:: django
   :emphasize-lines: 1,3

   {% block custom_body %}
   {% block content %}{{ block.super }}{% endblock content %}
   {% endblock custom_body %}

Then, in your new template file, ``default-custom-name.html``, we will add the following code from our ``pages/view.html`` with a couple of changes. We will replace the beginning of the code with ``{% extends "pages/base.html" %}`` and replace our main block with ``{% block custom_body %}``.

.. code-block:: django
   :emphasize-lines: 1,12,25

   {% extends "pages/base.html" %}
   
   {% block title %}{{ page.get_title }}{% endblock %}
   {% block meta_description %}{{ page.get_description }}{% endblock %}
   {% block meta_keywords %}{{ page.get_keywords }}{% endblock %}
   {% block meta_canonical_url %}<link rel="canonical" href="{{ page.get_canonical_url }}" />{% endblock %}
   {% block extra_head %}
   {{ block.super }}
   {% endblock %}
   
   {% block custom_body %}
   <div class="t">
       <div class="page-wrap">
           {% if page.title %}
           <h1>{{ page.title }}</h1> 
           {% endif %}
           <div class="content">{{ page.content|safe }}</div>
           
           <!-- Insert custom template code here -->
           
           {% include "pages/meta.html" %}
       </div>
   </div>
   {% endblock custom_body %}

Now the custom template will only affect the interior area of a page, so we can create pages that use other Tendenci template tags. This is great for creating pages with rss feeds or other dynamic content like upcoming events and news.


Navigation Bar
--------------

Adding a button
^^^^^^^^^

.. image:: img/navbarbutton.png

.. Tip:: 

    The Navigation Bar is set up through the Navs App.

    .. image:: img/navbar.png

    In the Navs App, Links can be assigned their own CSS Class.  This is helpful for targeting individual links to emphasize in your design.

    .. image:: img/navsappcss.png
    
    For this example, I added the class "top-nav-button" to the "Attend Orientation" Nav Link.
    
    .. hidden-code-block:: css
        :label: + Show Added CSS
        
            .top-nav-button {
              color: #fbce42;
              border: 2px solid #fbce42;
              border-radius: 40px;
              margin-left:25px;
              font-weight:700;
            }
            .top-nav-button:hover,
            .top-nav-button:active,
            .top-nav-button:focus {
              color: #f6ba17;
              border-radius: 40px;
              border: 2px solid #f6ba17;
              background-color: rgba(255,255,255,.3);
            }

Adding Font-Awesome Icons
^^^^^^^^^
.. image:: img/fontawesomenav.png

.. Tip:: 

    Also using the Nav App Classes, you can add Font Awesome Icons to your navigation bar. Just add the Font Awesome tag into the CSS Class and leave the Label blank.
    
    .. image:: img/fontawesomenavapp.png
    


Basic Footer
--------------

In Tendenci, the Footer is usually set up inside a box to make it easy for clients to make changes to their links.

.. image:: img/basicfooter.png

.. Tip:: 
    
    I like to set up my Footer links in a bulleted list.  The bullets can be removed later in html or in css.
    
    HTML is added inside the Footer links box.
    
    .. image:: img/footerlinks.png

    .. hidden-code-block:: html
        :label: + Show HTML

            <div class="col-md-3 col-sm-3">
                <h4 class="text-center" style="text-align: left;">Quick Links</h4>
                    <ul class="list-unstyled">
                        <li class="text-center" style="text-align: left;"><a href="/jobs/">Jobs</a></li>
                        <li class="text-center" style="text-align: left;"><a href="/coaching/">Coaching</a></li>
                        <li class="text-center" style="text-align: left;"><a href="/curriculum/">Classes</a></li>
                        <li class="text-center" style="text-align: left;"><a href="/orientation/">Orientation</a></li>
                        <li class="text-center" style="text-align: left;"><a href="/news/">News</a></li>
                    </ul>
            </div>
            <div class="col-md-3 col-sm-3">
                <h4>About</h4>
                    <ul class="list-unstyled">
                        <li><a href="/orientation/">About</a></li>
                        <li><a href="/orientation/">Support</a></li>
                        <li><a href="/orientation/">Contact Us</a></li>
                        <li><a href="/orientation/">Privacy Policy</a></li>
                        <li><a href="/login/">Login</a></li>
                    </ul>
            </div>
            <div class="col-md-3 col-sm-3">
                <h4 class="text-center" style="text-align: left;">Your Company</h4>
                    <ul class="list-unstyled">
                        <li class="text-center" style="text-align: left;">1234 Your Address</li>
                        <li class="text-center" style="text-align: left;">Your City, State</li>
                        <li class="text-center" style="text-align: left;">(123) 456-7891</li>
                    </ul>
            </div>
            <div class="col-md-3 col-sm-3 text-right">
                <p class="fa fa-twitter fa-2x">&nbsp;</p>
                <p class="fa fa-facebook fa-2x">&nbsp;</p>
                <p class="fa fa-linkedin fa-2x">&nbsp;</p>
                <p class="fa fa-rss fa-2x">&nbsp;</p>
            </div>
            <div class="col-md-12">
            <h5 class="text-center" style="text-align: center;">Site by:&nbsp;<a href="http://tendenci.com">Tendenci &reg; - Open Source&nbsp;For Associations and Nonprofits</a></h5>
            </div>

    .. hidden-code-block:: css
        :label: + Show CSS

            footer {
              margin-top: 0px;
              background-color: #236188;
              padding: 35px 0px 0px;
            }
            footer p,
            footer a,
            footer li {
              color: #f1f1f2;
              font-weight: 300;
            }
            footer a:hover {
              text-decoration:none;
              color: #f1f1f2;
              opacity: .5;
            }
            footer h4,
            footer h5,
            footer h5>a {
              color: #3298cc;
              text-transform: uppercase;
            }
            footer h4 {
              border-bottom:1px solid #3298cc;
              padding-bottom:5px;
              color:white;
            }
            footer {
              font-family: FontAwesome, 'Assistant', sans-serif;
            }
            footer .fa:hover {
              opacity:.5;
            }

Sidebar Navigation
--------------

Some clients have asked for all navigation links in the sidebar.  This can create a long list of links.  To avoid overly verbose sidebar menus, add a simple accordion to hide and show the navigation dropdown categories.

.. image:: img/accordionsidebar.png

.. Tip:: 

    For this example, I copy and pasted the HTML from /sitemap (included in every Tendenci site). You can also use tags to dynamically generate the sidebar nav.
    
    .. hidden-code-block:: html
        :label: + Show HTML
    
            <div class="sidebar-navigation">

              <div class="sitemap">       
                <ul>
                  <li><button class="accordion">About</button>

                    <div class="panel-sidebar-nav">
                    <ul>
                      <li><a class="" href="/about/">Who we are</a></li>
                      <li><a class="" href="/board-staff/">Board &amp; Staff</a></li>
                      <li><a class="" href="/impact/">Financials &amp; Impact</a></li>
                      <li><a class="" href="/policies/">Policies</a></li>
                      <li><a class="" href="/contact/">Contact Information</a></li>
                    </ul>
                   </div>

                  </li>     

                  <li><button class="accordion">Services</button>

                    <div class="panel-sidebar-nav">
                    <ul>
                      <li><a class="fa fa-user" href="/operation-id/">Identification Assistance</a></li>
                      <li><a class="fa fa-pagelines" href="/garden/">Community Garden</a></li>
                    </ul>
                   </div>
                  </li>

                  <li><button class="accordion">Volunteer</button>

                    <div class="panel-sidebar-nav">
                      <ul>
                        <li><a class="" href="/jobs/">Opportunities</a></li>
                        <li><a class="" href="/forms/volunteer-application/">Volunteer Application</a></li>
                      </ul>
                    </div>
                  </li>

                  <li><button class="accordion">Latest</button>

                    <div class="panel-sidebar-nav">
                      <ul>
                        <li><a class="" href="/news/">News</a></li>
                        <li><a class="" href="/events/month">Calendar</a></li>
                        <li><a class="/other-resources/" href="">Other Resources</a></li> 
                        <li><a class="/newsletter/" href="">Newsletter</a>
                        </li>
                      </ul>
                    </div>
                  </li>  

                  <li><button class="accordion">Give</button>

                    <div class="panel-sidebar-nav">
                      <ul>
                        <li><a class="/donations/" href="">Donate Online</a></li>
                        <li><a class="/more-ways-to-give/" href="">More Ways to Give</a></li>
                        <li><a class="/give/" href="">Donor Privacy Policy</a></li>
                      </ul> 
                    </div>
                  </li>

                </ul>

              </div>  
            </div>
            
    .. hidden-code-block:: html
        :label: + Show Javascript
        
            <script>
            var acc = document.getElementsByClassName("accordion");
            var i;

            for (i = 0; i < acc.length; i++) {
                acc[i].onclick = function(){
                    /* Toggle between adding and removing the "active" class,
                    to highlight the button that controls the panel */
                    this.classList.toggle("active");

                    /* Toggle between hiding and showing the active panel */
                    var panel = this.nextElementSibling;
                    if (panel.style.display === "block") {
                        panel.style.display = "none";
                    } else {
                        panel.style.display = "block";
                    }
                }
            }
            </script>
            
            
    .. hidden-code-block:: css
        :label: + Show CSS
        
            /*SIDEBAR 
            ====================*/
            .sidebar li li {
              list-style:none;
              font-weight:300;
              padding: 10px 0;
              border-bottom: 1px solid #F1F1F2;
            }
            .sidebar li li:hover {
              border-right: 3px solid #2D95D2;
              background-color: #F1F1F2;
            }
            .sidebar-navigation .sitemap>ul>li>a {
              text-transform: uppercase;
              color: #2D95D2;
              font-weight:600;
              font-size:20px;
            }
            .sidebar-navigation .sitemap>ul {
              list-style: none;
            }
            .sidebar-navigation .sitemap>ul>li {
              padding-top: 15px;
            }
            .sidebar-navigation .sitemap ul {
              padding-left: 0px;
            }
        
            /*SIDEBAR NAV
            =====================*/
            /* Style the buttons that are used to open and close the accordion panel */
            button.accordion {
              background-color: transparent;
              /* color: #444; */
              cursor: pointer;
              padding: 12px;
              width: 100%;
              text-align: left;
              border-bottom: 1px solid #e6e7e8;
              outline: none;
              transition: 0.4s;
              border-top: none;
              border-left: none;
              border-right: none;
            }

            /* Add a background color to the button if it is clicked on (add the .active class with JS), and when you move the mouse over it (hover) */
            button.accordion.active, 
            button.accordion:hover {
              background-color: #e6e7e8;
            }

            /* Style the accordion panel. Note: hidden by default */
            div.panel-sidebar-nav {
              background-color: white;
              display: none;
              border:0;
              border-radius:0;
              box-shadow: 0;
              -webkit-box-shadow:0;
            }

            button.accordion:after {
              content: '\02795'; /* Unicode character for "plus" sign (+) */
              font-size: 13px;
              color: #2d95d2;
              float: right;
              margin-left: 5px;
            }

            button.accordion.active:after {
              content: "\2796"; /* Unicode character for "minus" sign (-) */
            }

        
        
        
