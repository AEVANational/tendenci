Local Installation
==================

You can use the following installation instructions to install a local Tendenci site on Ubuntu (deb). 
This Django project is intended to help create a Tendenci site that you can deploy on a public hosting, 
but it's recommended that you install locally first in order to test your themes and designs.

If working on a Mac or PC, or even Ubuntu, we strongly recommend using VMWare Fusion, or at least
VirtualBox at a minimum to test different configurations. (Hint: VMWare handles bridge IPs much better
than VirtualBox which matters if you travel a lot and bounce between networks like us.)

Pre-config
----------

Install distribute if not already installed. Required to install easy_install.
::

    sudo wget http://python-distribute.org/distribute_setup.py
    python distribute_setup.py

Install `pip <http://www.pip-installer.org/>`_:
::

    sudo easy_install pip

Install `virtualenv <http://www.virtualenv.org/>`_:
::

    pip install virtualenv

If you are using OS X, you may need to sudo that command with:
::

    sudo pip install virtualenv

You'll also need to have Git set up (see `this Github help article <https://help.github.com/articles/set-up-git>`_ for instructions).

OS X Pre-config
~~~~~~~~~~~~~~~

In order for images to correctly render, you will need to install the jpeg libraries with the commands below:
::

    curl -O http://www.ijg.org/files/jpegsrc.v9.tar.gz
    tar -xvzf jpegsrc.v9.tar.gz
    cd jpeg-9
    ./configure
    make
    sudo make install

You can remove the downloaded files with these commands:
::

    cd ..
    rm -r jpeg-9
    rm jpegsrc.v9.tar.gz

On Mac OS X 10.7 or higher you will need Xcode 4.4.1 or higher (in app store) and will need to install the Command Line tools it comes with. To install these, open Xcode, click the "Xcode" menu item in the top left of the screen near the Apple logo, then click "Preferences", then click "Downloads". Then click install on the line next to Command Line Tools.

Setting up the database
-----------------------

Tendenci is designed for use with PostgreSQL. You will need to have a PostgreSQL server running locally. If you are on OS X, we recommend `Postgres.app <http://postgresapp.com/>`_ to get up and running fast.

With Postgres.app installed, you can create a database from Terminal:
::

    psql -h localhost -c "CREATE DATABASE tendenci"

You can also create a database in your GUI of choice (recommended: `PGAdmin <http://www.pgadmin.org/>`_).

For more on installing PostgreSQL for Django check the docs at https://docs.djangoproject.com/en/dev/ref/databases/#postgresql-notes.


Creating a new tendenci project
--------------------

We recommend using virtualenv http://docs.python-guide.org/en/latest/dev/virtualenvs/ with virtualenvwrapper https://virtualenvwrapper.readthedocs.org/en/latest/ for your development environment.
Make sure Django 1.8 is installed in your environment.
::

    pip install "Django>=1.8,<1.9"


In your environment, start a new tendenci project with the template (replace <project_name> with your project name)
::

    django-admin.py startproject --template=https://github.com/tendenci/tendenci-project-template/zipball/tendenci7 <project_name>


Installing the requirements
--------------------

Install the requirements with the following commands.
::
    cd <project_name>
    pip install -r requirements/dev.txt

Update your database name, database user and database password for the `DATABASES` setting in the ``conf/local_settings.py``.
::

Update the settings SECRET_KEY and SITE_SETTINGS_KEY.
::

	curl https://gist.githubusercontent.com/jennyq/45de71a93cff774c593d/raw/30ede14eb133de66cc839cc0458a1e915368534e/setup_keys.sh | bash 

Now we are ready to use our deploy script.
::

    python deploy.py

.. Note:: 

    If this is your first time using Tendenci, we **recommend** you install some default data to get a feel of what a full Tendenci site is like. You can install this data with the command:
    ::

        python manage.py load_npo_defaults


To create your login, run the following command and fill in the prompts:
::

    python manage.py createsuperuser

Finally, we can use the runserver command so that we can view the site in our browser:
::

    python manage.py runserver

Open http://127.0.0.1:8000/ in your browser to see your tendenci site!


Advanced Options
----------------

**Optional:** If you want to use a different theme, you can set that theme with the following command, replacing `my-theme-name` with the name of your theme:
::

    python manage.py set_theme my-theme-name

