Performing a Minor Update
=========================

These instructions will upgrade Tendenci to a new minor version.

Shut down the Tendenci server if necessary:
::

    service tendenci stop

Activate your virtualenv:
::

    source /srv/tendenci/bin/activate

Upgrade Tendenci and its dependencies:
::

    cd /var/www/tendenci/
    # For testing installations:
    pip install -r requirements/dev.txt --upgrade
    # For live installations:
    pip install -r requirements/prod.txt --upgrade

Apply database and static media updates, then clear the cache:
::

    python manage.py migrate
    python deploy.py
    python manage.py clear_cache

Verify that permissions are still set appropriately:
::

    sudo chmod -Rh -x+X /var/www/tendenci/media/
    sudo chgrp -Rh www-data /var/www/tendenci/
    sudo chmod -Rh g+w /var/www/tendenci/media/ /var/www/tendenci/index.whoosh/

Restart the Tendenci server:
::

    service tendenci restart
