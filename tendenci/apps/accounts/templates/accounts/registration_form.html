{% extends "accounts/base.html" %}
{% load i18n %}
{% load staticfiles %}


{% block title %}{% trans "User Registration" %}{% endblock %}

{% block extra_head %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'css/accounts.css' %}">
{% endblock %}

{% block content %}
    <h2>{% trans "Fill out the form below to create your account" %}</h2>
    <form class="form-horizontal" id="t-accounts-registration-form" method="post" action=".">{% csrf_token %}
        <div class="form-group {% if form.username.errors %}has-error{% endif %}">
            <label for="{{ form.username.id_for_label }}" class="col-sm-3 control-label">{% trans "Username" %}</label>
            <div class="col-sm-6">
                {{ form.username }}

                {% if form.username.errors %}
                    <p id="{{ form.username.id_for_label }}-help-block" class="help-block">
                        {{ form.username.errors.as_text }}
                    </p>
                {% endif %}
            </div>
        </div>

        <div class="form-group {% if form.first_name.errors %}has-error{% endif %}">
            <label for="{{ form.first_name.id_for_label }}" class="col-sm-3 control-label">{% trans "First Name" %}</label>
            <div class="col-sm-6">
                {{ form.first_name }}

                {% if form.first_name.errors %}
                    <p id="{{ form.first_name.id_for_label }}-help-block" class="help-block">
                        {{ form.first_name.errors.as_text }}
                    </p>
                {% endif %}
            </div>
        </div>

        <div class="form-group {% if form.last_name.errors %}has-error{% endif %}">
            <label for="{{ form.last_name.id_for_label }}" class="col-sm-3 control-label">{% trans "Last Name" %}</label>
            <div class="col-sm-6">
                {{ form.last_name }}

                {% if form.last_name.errors %}
                    <p id="{{ form.last_name.id_for_label }}-help-block" class="help-block">
                        {{ form.last_name.errors.as_text }}
                    </p>
                {% endif %}
            </div>
        </div>

        <div class="form-group {% if form.email.errors %}has-error{% endif %}">
            <label for="{{ form.email.id_for_label }}" class="col-sm-3 control-label">{% trans "Email" %}</label>
            <div class="col-sm-6">
                {{ form.email }}

                {% if form.email.errors %}
                    <p id="{{ form.email.id_for_label }}-help-block" class="help-block">
                        {{ form.email.errors.as_text }}
                    </p>
                {% endif %}
            </div>
        </div>

        {% if form.errors.values %}
            <div class="errors">
                {% for field in form %}
                    {% if field.errors %}
                        {% for error in field.errors %}
                            <p>{{ field.label }} - {{ error }}</p>
                        {% endfor %}
                    {% endif %}
                {% endfor %}
            </div>
        {% endif %}

        <table border="0" cellspacing="0" cellpadding="0">
             <tr>
                 <td><label for="id_username" class="required">{% trans 'Username'%}</label></td>
                 <td>{{ form.username }}</td>
             </tr>
             <tr>
                 <td><label for="id_first_name" class="required">{% trans 'First Name:'%}</label></td>
                 <td>{{ form.first_name }}</td>
             </tr>
             <tr>
                 <td><label for="id_last_name" class="required">{% trans 'Last Name:'%}</label></td>
                 <td>{{ form.last_name }}</td>
             </tr>
             <tr>
                 <td><label for="id_email" class="required">{% trans 'Email Address (Enter twice to verify):'%}</label></td>
                 <td>{{ form.email }}</td>
             </tr>
             <tr>
                 <td><label for="id_password1" class="required">{% trans "Password:" %}</label></td>
                 <td>{{ form.password1 }}</td>
             </tr>
             <tr>
                 <td><label for="id_password2" class="required">{% trans "Password (again):" %}</label></td>
                 <td>{{ form.password2 }}</td>
             </tr>
             <tr>
                 <td><label for="id_captcha" class="required">{% trans "Security:" %}</label></td>
                 <td>{{ form.captcha }}</td>
             </tr>
             <tr>
                 <td>&nbsp;</td>
                 <td><input class="create-button" type="submit" name="submit" value="{% trans 'Create Account' %}" /></td>
             </tr>
        </table>
    </form>
{% endblock %}

{% block extra_body %}
    {{ block.super }}
    <script type="text/javascript" src="{% static 'js/email-verification.js' %}"></script>
{% endblock %}
