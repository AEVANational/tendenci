{% extends "contributions/base.html" %}
{% load i18n %}
{% load base_tags %}
{% load bootstrap_pagination_tags %}
{% load contribution_tags %}
{% load perm_tags %}
{% load search_tags %}


{% block title %}
    {% if MODULE_CONTRIBUTIONS_LABEL_PLURAL %}
        {% blocktrans %}{{ MODULE_CONTRIBUTIONS_LABEL_PLURAL }} Search{% endblocktrans %}
    {% else %}
        {% trans "Contributions Search" %}
    {% endif %} - {{ block.super }}
{% endblock %}

{% block content_classes %}{{ block.super }} t-search-view{% endblock %}

{% block content %}
    <h1>
        {% firstof trans SITE_GLOBAL_SITEPRIMARYKEYWORDS trans SITE_GLOBAL_SITEDISPLAYNAME %}
        {% if MODULE_CONTRIBUTIONS_LABEL_PLURAL %}
            {% blocktrans %}{{ MODULE_CONTRIBUTIONS_LABEL_PLURAL }} Search{% endblocktrans %}
        {% else %}
            {% trans "Contributions Search" %}
        {% endif %}
    </h1>

    {% contribution_search %}
    {% autopaginate contributions 10 %}

    <h4 class="capitalize">
        <em>{% spaceless %}
            {% if MODULE_CONTRIBUTIONS_LABEL_PLURAL and MODULE_CONTRIBUTIONS_LABEL %}
                {% blocktrans count contributions_count=paginator.count %}
                    {{ contributions_count }} {{ MODULE_CONTRIBUTIONS_LABEL }} Found
                {% plural %}
                    {{ contributions_count }} {{ MODULE_CONTRIBUTIONS_LABEL_PLURAL }} Found
                {% endblocktrans %}
            {% else %}
                {% blocktrans count contributions_count=paginator.count %}
                    {{ contributions_count }} Contribution Found
                {% plural %}
                    {{ contributions_count }} Contributions Found
                {% endblocktrans %}
            {% endif %}
        {% endspaceless %}</em>
    </h4>

    <section>
        {% for contribution in contributions %}
            {% search_result contribution %}
            {# {% include "contributions/search-result.html" %} #}
        {% empty %}
        {% endfor %}
    </section>

    {% paginate %}
{% endblock %}
